<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="app.min.css">

    <style>
        .gakKena {
            visibility: hidden;
        }

        .gakKena.display {
            visibility: visible;
        }

        .btn-danger:hover {
            background-color:#dc3545 !important;
        }

        .intro {
            width: 100vw;
            height: 100vh;
        }

        .centered {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
    </style>

    <title>LUV U!</title>
  </head>
  <body>

    <div id="intro" class="intro">
        <h5 class="text-center centered">Mangga,<br>crot keun dimana wae, kang.<br>Eh, pencet dimana wae.</h5>
    </div>

    <div id="reff" class="d-none">
        <div class="container">
            <div class="row mt-5">
                <div class="col text-center">
                    <h1>Hallo, Tante?</h1>
                    <img src="tenor.gif"/>
                    <h3>Mau jadi pacar aku gak?</h3>
                </div>
            </div>
            <div class="row">
                <div class="col text-center">
                    <button class="btn btn-primary" onclick="alhamdulillah(this)">MAUUUU!!!</button>
                    <button class="btn btn-danger gakKena display" data-id="1" onclick="eitsGakKena(this)" onmouseover="eitsGakKena(this)">NGGAK!</button>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <button class="btn btn-danger my-4 mx-3 gakKena" data-id="2" onclick="eitsGakKena(this)" onmouseover="eitsGakKena(this)">NGGAK!</button>
                    <button class="btn btn-danger my-4 mx-4 gakKena" data-id="3" onclick="eitsGakKena(this)" onmouseover="eitsGakKena(this)">NGGAK!</button>
                    <button class="btn btn-danger my-4 mx-5 gakKena" data-id="4" onclick="eitsGakKena(this)" onmouseover="eitsGakKena(this)">NGGAK!</button>
                    <button class="btn btn-danger my-4 mx-1 gakKena" data-id="5" onclick="eitsGakKena(this)" onmouseover="eitsGakKena(this)">NGGAK!</button>
                    <button class="btn btn-danger my-4 mx-5 gakKena" data-id="6" onclick="eitsGakKena(this)" onmouseover="eitsGakKena(this)">NGGAK!</button>
                    <button class="btn btn-danger my-4 mx-3 gakKena" data-id="7" onclick="eitsGakKena(this)" onmouseover="eitsGakKena(this)">NGGAK!</button>
                    <button class="btn btn-danger my-4 mx-4 gakKena" data-id="8" onclick="eitsGakKena(this)" onmouseover="eitsGakKena(this)">NGGAK!</button>
                </div>
            </div>
        </div>
    </div>

    <script src="app.min.js"></script>
    <script>
        let dibilanginPakUstadz = -1;

        function eitsGakKena(obj)
        {
            let oldButton = parseInt($(obj).attr("data-id"));
            let newButton = generateRandom(1, 8, oldButton);
            
            $(obj).css("visibility", "hidden");
            $($(`.gakKena[data-id="${newButton}"]`)).css("visibility", "visible");
        }

        function generateRandom(min, max, except) {
            var num = Math.floor(Math.random() * (max - min + 1)) + min;
            if(num == except) {
                ingatKataPaUstadz();
            }
            else if(except == undefined) {
                ingatKataPaUstadz();
            }
            return (num === except ) ? generateRandom(min, max) : num;
        }

        function ingatKataPaUstadz()
        {
            if(dibilanginPakUstadz == 0) {
                swal({
                    title: "Ingat!",
                    text: "Kata pak ustadz, gak boleh nolak rezeki!", 
                    icon: "warning",
                });
            } else if(dibilanginPakUstadz == 1) {
                swal({
                    title: "Aku ingetin lagi ya!",
                    text: "Kata pak ustadz gak boleh nolak rezeki ihh!", 
                    icon: "warning",
                });
            } else if(dibilanginPakUstadz == 2) {
                swal({
                    title: "Ngerti gak sih!",
                    text: "Kata pak ustadz, gak boleh nolak rezeki! Peka atuh euy! Peka!", 
                    icon: "warning",
                });
            }
            dibilanginPakUstadz++;
        }

        function alhamdulillah()
        {
            swal({
                title: "Mengkalkulasi rasa sayangmu...",
                text: "Sabar ya...",
                icon: "loader.gif",
                closeOnClickOutside: false,
                buttons: false,
                onOpen: function () {
                    swal.showLoading();
                }
            });

            setTimeout(function(){
                swal.close();
                swal({
                    title: "Menyimpan data kenangan kita...",
                    text: "Deg-degan woe!...",
                    icon: "loader.gif",
                    closeOnClickOutside: false,
                    buttons: false,
                    onOpen: function () {
                        swal.showLoading();
                    }
                });

                setTimeout(function(){
                    swal.close();

                    setTimeout(function(){
                        swal({
                            title: "Makasih ya udah nerima akuu :) ...",
                            icon: "horee.gif",
                            closeOnClickOutside: false,
                            buttons: false,
                            onOpen: function () {
                                swal.showLoading();
                            }
                        });

                        setTimeout(function(){
                            let length = 1000;
                            for (i = 0; i < length; i++) {
                                alert('aku sayang kamu! :D');
                            }
                        }, 3000);
                    }, 3000);
                }, 3000);
            }, 3000);
        }

        $("#intro").click(function() {
            $("#reff").removeClass("d-none");
            $("#intro").addClass("d-none");
        });

        console.log("BANGSAT KAU!!!");
    </script>
  </body>
</html>